"use strict";!function(a){function b(a,c){var d=0,e=null,f=[],g=function(b){if(b&&"function"==typeof b.then)b.then(function(a){g(a)},function(a){h(a)});else if(0==d){if(e=b,d=1,a)try{e=a(e)}catch(c){e=c,d=-1}j(f)}},h=function(a){if(0==d){if(e=a,d=-1,c)try{e=c(e),d=1}catch(b){e=b}j(f)}},i=function(a,c){var e=new b(a,c);return 0==d?f.push(e):j([e]),e.promise},j=function(a){var b=d>0?"resolve":0>d?"reject":null;if(b)for(var c in a)a[c][b](e)},k=Object.defineProperties(new Object,{then:{enumerable:!0,configurable:!1,value:i},"catch":{enumerable:!0,configurable:!1,value:function(a){return i(null,a)}}});return Object.defineProperties(this,{promise:{enumerable:!0,configurable:!1,value:k},resolve:{enumerable:!0,configurable:!1,value:g},reject:{enumerable:!0,configurable:!1,value:h}})}function c(a){if(!a)return[];for(var b=[],d=0;d<a.length;d++){var e=a[d];if("string"==typeof e)b.push(e);else{if(!Array.isArray(e))throw new Error("Esquire: Invalid dependency: "+e);b=b.concat(c(e))}}return b}function d(a){var b=a.filename||a.target&&a.target.src;if(i[b]){if(a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.target&&a.target.parentNode)try{a.target.parentNode.removeChild(a.target)}catch(c){}var d=i[b];return delete i[b],d.remaining-=1,{script:b,promise:d}}}function e(a){var b=d(a);b&&(console.debug("Esquire: Successfully loaded script '",b.script,"'"),0==b.promise.remaining&&b.promise.resolve(Esquire.modules))}function f(a){var b=d(a);if(b){console.warn("Esquire: Unable to load script '",b.script,"'");var c=a.error||new Error("Unable to load script '"+b.script+"'");b.promise.reject(c)}}function g(){if(!j)throw new Error("Esquire: Document not available");var a=j.getElementsByTagName("script")[0],d=a.parentNode,g=new b(function(a){return a},function(a){throw a});g.remaining=0;var k=c(arguments),l=[];for(var m in k)!function(a){var b=j.createElement("script");b.async=!0,b.defer=!0,b.src=a,a=b.src,h[a]?console.debug("Esquire: Script '"+a+"' already loaded"):i[a]?console.debug("Esquire: Script '"+a+"' already being loaded"):(b.addEventListener("load",e,!1),b.addEventListener("error",f,!1),i[a]=g,g.remaining+=1,l.push(b))}(k[m]);if(0==l.length)g.resolve(Esquire.modules);else for(var m in l)console.debug("Esquire: About to load '"+l[m].src+"'"),d.insertBefore(l[m],a);return g.promise}var h={},i={};a.addEventListener("error",f,!0);var j=a.document;a.Esquire||(a.Esquire={}),a.Esquire.load=g}(window);